---
import CartFlyout from "@/components/store/CartFlyout.jsx";
import CartFlyoutToggle, { CloseIcon } from "@/components/store/CartFlyoutToggle.jsx";
import ThemeIcon from "@/components/ThemeIcon.astro";
---

<header
  class="bg-white/80 rounded-xl backdrop-blur-md w-full fixed top-0 z-20 h-16 border-b-2 border-b-black/10 dark:bg-black/80 dark:border-b-neutral-200/10"
  transition:persist
  transition:name="store-header"
>
  <div class="flex justify-between py-3 px-6 h-full">
    <div class="flex gap-2">
      <a
        href="/store"
        class="justify-center items-center flex rounded-md px-2 bg-transparent hover:bg-neutral-900 dark:hover:bg-neutral-100 transition-colors group"
      >
        <h2
          class="text-2xl font-semibold tracking-widest uppercase h-fit bg-clip-text bg-gradient-to-r text-transparent from-neutral-700 to-neutral-900 transition-colors group-hover:from-neutral-50 group-hover:to-neutral-300 dark:from-neutral-50 dark:to-neutral-300 group-hover:dark:from-neutral-700 group-hover:dark:to-neutral-900"
        >
          cecymarket
        </h2>
      </a>
    </div>

    <nav class="flex justify-between gap-4 px-0 md:px-6 min-h-full max-w-max text-neutral-500 dark:text-neutral-100">
      <ThemeIcon fillIcon={true} className="bg-transparent transition-colors hover:bg-neutral-900 dark:hover:bg-neutral-100 rounded-md py-2 px-4 *:size-6 dark:hover:text-neutral-800 hover:text-neutral-100" />
      <a
        href="/"
        class="flex cursor-pointer items-center gap-x-1 rounded-md py-2 px-4 hover:bg-neutral-900 dark:hover:bg-neutral-100 group transition-colors"
        title="volver al inicio"
        aria-label="volver al inicio"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="currentColor"
          class="size-6 text-neutral-500 dark:group-hover:text-neutral-800 group-hover:text-neutral-100 dark:text-neutral-100"
        >
          <path
            d="M12.707 2.293l9 9c.63 .63 .184 1.707 -.707 1.707h-1v6a3 3 0 0 1 -3 3h-1v-7a3 3 0 0 0 -2.824 -2.995l-.176 -.005h-2a3 3 0 0 0 -3 3v7h-1a3 3 0 0 1 -3 -3v-6h-1c-.89 0 -1.337 -1.077 -.707 -1.707l9 -9a1 1 0 0 1 1.414 0m.293 11.707a1 1 0 0 1 1 1v7h-4v-7a1 1 0 0 1 .883 -.993l.117 -.007z"
          ></path>
        </svg>
      </a>
      <CartFlyoutToggle
        client:load
        transition:name="cart-toggle"
        transition:persist
        closeIcon={false}
      />
    </nav>
  </div>
</header>
<CartFlyout client:load />
